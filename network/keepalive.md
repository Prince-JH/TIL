# keepalive

## TCP keepalive
TCP keepalive는 이미 맺어진 커넥션에 주기적으로 패킷을 보내 해당 커넥션이 유효한지 확인하는데 사용된다. 기본적으로 대부분의 시스템에서는 비활성화 되어 있다.

keepalive가 비활성화 되어 있다면, 기본적으로 커넥션이 유효하다고 가정하고 데이터를 보내기 때문에, 실제로 데이터 전송을 했을때 커넥션이 끊어져 있는 상태라면 데이터가 유실될 수 있다. 다만, TCP는 기본적으로 신뢰성 보장을 위한 재전송 메커니즘이 내장되어 있기 때문에, 이러한 경우에는 핸드 쉐이킹을 통해 커넥션을 다시 맺고 데이터를 재전송한다.

## HTTP keepalive
HTTP keeplaive HTTP/1.1에서 기본적으로 활성화되며, 성능을 최적화하기 위해 사용된다. HTTP keepalive를 사용하면, 하나의 TCP 연결을 통해 여러 HTTP 요청과 응답을 보낼 수 있다. 이는 TCP 연결을 매번 새롭게 설정하는 오버헤드를 줄이고, 따라서 전체 통신의 성능을 향상시킨다. 그러나 커넥션들은 자원을 소비하기 때문에, 서버 측에서는 동시에 열려 있는 연결의 수를 제한하는 것이 일반적이다.