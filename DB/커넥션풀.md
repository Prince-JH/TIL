# 커넥션풀
HikariCP 기준

- maximumPoolSize
    - 최대 커넥션 개수
        - 풀이 제공할 수 있는 최대 커넥션 개수
        - 사용 중 + 유휴 커넥션
    - 최대 TPS 고려
        - 1개 커넥션의 초당 처리 요청 개수 * 동시 커넥션 개수
        - 느린 쿼리를 염두에 두고 최대 개수를 정해야 함
- connectionTimeout 
    - 풀에서 커넥션을 구하기 위해 대기하는 시간
        - 풀의 모든 커넥션이 사용중일 때 대기 발생
    - 고려 사항
        - 기본 값은 너무 큰 30초
        - 일반적인 서비스에서는 길면 안 됨
        - 응답 없는 것보다 빨리 에러 화면이라도 응답하는게 나음
- maxLifetime 
    - 커넥션의 최대 유지 시간
        - 커넥션을생성한 이후 이 시간이 지나면 커넥션을 닫고 풀에서 제거
    - 네트워크나 DB의 관련 설정 값보다 작은 값 사용할 것
        - 그렇지 않으면 유효하지 않은 커넥션이 풀에 남게 되고 요청 시에 커넥션을 새로 맺는 성능 저하를 유발함
- keppaliveTime
    - 커넥션이 살아 있는지 확인하는 주기
    - 네트워크나 DB의 관련 설정 값보다 작은 값 사용할 것
        - 예: DB의 미활동 커넥션 대기 시간